<div class="w-full max-w-4xl mx-auto my-4">
  <!-- Check if there are any top articles -->
  <% if @top_articles.present? %>
    <!-- Slider main container -->
    <div data-controller="swiper" class="swiper">
      <!-- Additional required wrapper -->
      <div class="swiper-wrapper">
        <% @top_articles.each do |article| %>
          <div class="swiper-slide">
            <div class="article-slide" style="background-image: url(<%= article.article_image.attached? ? url_for(article.resized_article_image) : asset_path('article_image.jpg') %>);">
              <div class="article-title-container">
                <h2 class="article-title"><%= link_to article.title, article_path(article) %></h2>
              </div>
            </div>
          </div>
        <% end %>
      </div>
      <!-- If we need pagination -->
      <div class="swiper-pagination"></div>
      <!-- If we need navigation buttons -->
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  <% else %>
    <p class="text-center text-gray-500">Brak ważnych artykułów</p>
  <% end %>
</div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<style>
  .swiper {
   width: 100%;
   max-width: 600px;
   height: 160px; /* Adjusted height for better visibility */
   padding: 0 50px; /* Padding for the arrows to be outside the image */
  }

  .swiper-slide {
   display: flex;
   justify-content: center;
   align-items: center;
   font-size: 18px;
   position: relative;
  }

  .article-slide {
   width: 100%;
   height: 100%;
   display: flex;
   justify-content: center;
   align-items: center;
   background-size: cover;
   background-position: center;
   position: relative;
   text-align: center;
   background-repeat: no-repeat;
   border-radius: 12px; /* Rounded corners for the background image */
  }

  .article-title-container {
   background: rgba(51, 53, 59, 0.7); /* Semi-transparent background */
   padding: 8px 16px;
   border-radius: 8px; /* Rounded corners for the text background */
   margin: 0 16px;
  }

  .article-title {
   color: white; /* Change to your desired text color */
   font-size: 24px; /* Adjust font size */
  }

  .swiper-button-next, .swiper-button-prev {
   color: gray;
  }

  .swiper-pagination-bullet {
   background: #33353b; /* Light black for inactive bullets */
   opacity: 0.8;

  }

  .swiper-pagination-bullet-active {
   background: white; /* Gray for active bullet */
  }

  .swiper-scrollbar-drag {
   background: #33353b; /* Gray for scrollbar drag handle */
  }
</style>